{% extends "bash.html" %}
{% load static %}
{% block content %}
<div class="container mt-5 mb-5">
    <div class="row justify-content-center">
        <div class="col-md-8">
            <div class="card shadow-lg border-0 rounded-lg">
                <div class="card-body">
                    <h2 class="text-center mb-4">Edit Profile</h2>
                    {% if messages %}
    <ul class="messages">
        {% for message in messages %}
            <li{% if message.tags %} class="{{ message.tags }}"{% endif %}>{{ message }}</li>
        {% endfor %}
    </ul>
{% endif %}

                    <form action="{% url 'edit_profile' %}" method="post" enctype="multipart/form-data">
                        {% csrf_token %}
                        <!-- Profile Image -->
                        {{ form.as_p }}
                        
                        <!-- Save Changes Button -->
                        <div class="text-center">
                            <button type="submit" class="btn btn-primary btn-lg">Save Changes</button>
                            <a class="btn btn-success btn-lg ms-3" href="{% url 'user_profile' %}">Back to Profile</a>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    // Password visibility toggle
    const togglePassword = document.getElementById('togglePassword');
    const passwordField = document.getElementById('password');
    togglePassword.addEventListener('click', () => {
        const type = passwordField.getAttribute('type') === 'password' ? 'text' : 'password';
        passwordField.setAttribute('type', type);
        togglePassword.textContent = type === 'password' ? 'üëÅÔ∏è' : 'üôà'; // Change icon based on visibility
    });
</script>
{% endblock %}
